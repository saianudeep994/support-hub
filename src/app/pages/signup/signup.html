<form [formGroup]="form" (ngSubmit)="onSubmit()" class="form p-3 mt-5">
    <h2 class="mb-4 text-center">Sign Up</h2>
  <div class="mb-3">
    <label class="form-label">Name</label>
    <input class="form-control" formControlName="name" />
    <div class="text-danger" *ngIf="f['name'].touched && f['name'].invalid">
      <span *ngIf="f['name'].errors?.['required']">Name is required</span>
      <span *ngIf="f['name'].errors?.['minlength']">Min length is 3</span>
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Email</label>
    <input class="form-control" type="email" formControlName="email" />
    <div class="text-danger" *ngIf="f['email'].touched && f['email'].invalid">
      <span *ngIf="f['email'].errors?.['required']">Email is required</span>
      <span *ngIf="f['email'].errors?.['email']">Enter a valid email</span>
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Role</label>
    <select class="form-select" formControlName="roles">
      <option value="Customer">Customer</option>
      <option value="Agent">Agent</option>
      <option value="Admin">Admin</option>
    </select>
    <div class="text-danger" *ngIf="f['roles'].touched && f['roles'].invalid">
      <span *ngIf="f['roles'].errors?.['required']">Role is required</span>
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Password</label>
    <input class="form-control" type="password" formControlName="password" />
    <div class="text-danger" *ngIf="f['password'].touched && f['password'].invalid">
      <span *ngIf="f['password'].errors?.['required']">Password is required</span>
      <span *ngIf="f['password'].errors?.['minlength']">At least 8 characters</span>
    </div>
  </div>

  <div class="text-danger mb-2" *ngIf="errorMsg">{{ errorMsg }}</div>
  <div class="text-success mb-2" *ngIf="successMsg">{{ successMsg }}</div>

  <button class="btn btn-primary btn-lg w-100 signup-btn" type="submit"
    [disabled]="form.invalid || submitting">
    {{ submitting ? 'Submitting...' : 'Sign Up' }}  
  </button>
</form>
